
{%- assign current_variant = card_product.selected_or_first_available_variant -%}
<div class="col-md-3">
    <div class="featured-product-col">
        <div class="featured-product-img">
            <img loading="lazy" alt="{{ card_product.title }}" src="{{ card_product.featured_image |  img_url: 'master' }}">
          	{% if card_product.compare_at_price > card_product.price and card_product.available %}
            <span class="sale-product" {{ card_product.price }}><img loading="lazy" alt="sale-badge" src="{{ 'sale-product.png' | asset_img_url: 'master' }}"></span>
          	{% endif %}
    		
        </div>
        <div class="featured-product-content">
            <h5> {{ card_product.title }} </h5>
            <span> {{ card_product.metafields.descriptors.subtitle }} </span>
            <form method="post" action="/cart/add" id="{{ product_form_id }}">
              <input type="hidden" name="id" value="{{ card_product.variants.first.id }}" />
              {%- for option in card_product.options_with_values -%}
              {%- for value in option.values -%}
                <div class="input-price-row" {{ current_variant.inventory_quantity }} {% if current_variant.inventory_quantity %} disabled {% endif %}>
                    <div class="radio-container">
                        <label for="{{ section.id }}-{{ option.position }}-{{ forloop.index0 }}-{{ current_variant.id }}">
                            <input type="radio"
                                   {% if forloop.first %}checked="checked"{% endif %}
                                   name="radio" 
                                   id="{{ section.id }}-{{ option.position }}-{{ forloop.index0 }}-{{ current_variant.id }}" 
                                   name="{{ option.name }}"
                                   value="{{ value | escape }}"
                                   >
                            {{ value }}
                            <span class="checkmark"></span>
                        </label>
                    </div>
                    <div class="fearured-price">
                        <h6 class="{% if current_variant.compare_at_price > 0 %}del-price{% endif %}"> {{ card_product.variants[forloop.index0].compare_at_price | money }} </h6>
                        <h6 class="discount-price"> {{ card_product.variants[forloop.index0].price | money }} </h6>
                    </div>
                </div>
				{%- endfor -%}	
              {%- endfor -%}
                <div class="count-add-to-cart">
                    <input type="number" autocomplete="off" id="quantity" name="quantity" form="{{ product_form_id }}" min="1" value="1">
                    <button type="submit" class="custom-site-btn">
                        ADD TO CART
                    </button>
                </div>
              <div class="product__variants_list">
                <ul class="variants-list">
                  {% for variant in card_product.variants %}
                  <li class="variants-list-items" {{variant.compare_at_price | money }}  value="{{ variant.id }}"
                      {%- if variant == current_variant %} selected="selected" {%- endif -%}> 
                    {{ variant.title }} {%- if variant.available == false %} - {{ 'products.product.sold_out' | t }}{% endif %}
                  </li>
                  {% endfor %}
                </ul>
              </div>
            </form>
        </div>
    </div>
</div>

<style>
  .product__variants_list{
    display : none;
  }
</style>

